# AviUtl プラグイン - エディットボックス最適化

* version 2.1.1 by 蛇色 - 2022/01/08 スピンボタンによる編集が無効になる問題を修正

拡張編集の冗長なフレームの更新処理を抑制します。

## (1) テキストオブジェクトがやたら重いと感じている人向け
現在の拡張編集ではタイムライン上でテキストオブジェクトを左クリックダウンした時点でフレームの更新処理が最低でも2回発生します。これは本来必要のない処理です。さらに左クリックアップ時に1回フレームの更新が行われます。  
  
その他のオブジェクトではフレームの更新が行われるのは左クリックアップ時の1回だけです。つまりテキストオブジェクトは左クリックで選択するのに他のオブジェクトの3倍時間がかかってしまいます。  
  
これは拡張編集がエディットボックスから送られてくる通知メッセージ(EN_CHANGE)に反応して冗長なフレームの更新処理を行っているのが原因です。  
  
よって、このプラグインは左クリック状態のときはエディットボックスの通知メッセージを無視するようにして、テキストオブジェクト選択時の処理を他のオブジェクトと同じくらいの軽さにします。  

## (2) エディットボックスで1文字入力するたびに再計算するのは冗長だと感じている人向け
このプラグインはエディットボックス編集時の再計算を遅延させることでこの問題を解決します。  
設定ファイルで指定した遅延時間内に次の文字を入力すると再計算が省略されて遅延時間が延長されます。  
最後の入力が終わってから遅延時間が経過した時点でフレームの再計算が始まります。  

## インストール

以下のファイルを AviUtl の Plugins フォルダに入れてください。
* OptimizeEditBox.auf
* OptimizeEditBox.ini

## 設定

OptimizeEditBox.ini をテキストエディタで編集します。

```ini
[Settings]
optimizeTimeLine=1
; 0 以外を指定すると、タイムラインでテキストオブジェクトを左クリックして選択したときの動作を最適化します。
editBoxDelay=0
; エディットボックスの再計算遅延時間をミリ秒で指定します。
; 例えば 1 秒遅延させたい場合は 1000 を指定します。
; 遅延させたくない場合は 0 を指定します。
```

## 動作確認

* (必須) AviUtl 1.10 & 拡張編集 0.92 http://spring-fragrance.mints.ne.jp/aviutl/
* (共存確認) patch.aul r9 https://www.nicovideo.jp/watch/sm39491708
* (共存確認) eclipse_fast 1.00 https://www.nicovideo.jp/watch/sm39756003
* (共存確認) 爆速プラグイン 1.06 https://www.nicovideo.jp/watch/sm39679253
